<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="pageTitle">AI æ™ºèƒ½ä¸€é”®æŠ å›¾ - Aifura Tools</title>
    
    <meta name="description" content="å…è´¹åœ¨çº¿AIæŠ å›¾å·¥å…·ï¼Œä¸€é”®è‡ªåŠ¨å»é™¤å›¾ç‰‡èƒŒæ™¯ï¼Œç”Ÿæˆé€æ˜PNGã€‚Free AI Background Remover, remove backgrounds instantly.">
    <meta name="keywords" content="AIæŠ å›¾, å»èƒŒæ™¯, åœ¨çº¿æŠ å›¾, background remover, transparent background, AI tools, Aifura">
    <meta name="author" content="Aifura">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="AI æ™ºèƒ½ä¸€é”®æŠ å›¾ - Free Background Remover">
    <meta property="og:description" content="ä¸Šä¼ å›¾ç‰‡ï¼Œä¸€é”®è‡ªåŠ¨æ‰£é™¤èƒŒæ™¯ï¼Œé«˜æ¸…æ— æŸã€‚">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "Aifura AI Background Remover",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "AI-powered tool to remove image backgrounds automatically."
    }
    </script>

    <style>
        body { font-family: 'Inter', 'Noto Sans SC', sans-serif; }
        /* é€æ˜èƒŒæ™¯çš„æ£‹ç›˜æ ¼æ ·å¼ */
        .checkerboard {
            background-image: linear-gradient(45deg, #e2e8f0 25%, transparent 25%), 
                              linear-gradient(-45deg, #e2e8f0 25%, transparent 25%), 
                              linear-gradient(45deg, transparent 75%, #e2e8f0 75%), 
                              linear-gradient(-45deg, transparent 75%, #e2e8f0 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex flex-col text-slate-800">

    <nav class="w-full bg-white border-b border-slate-200 px-6 py-4 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2 cursor-pointer" onclick="window.location.href='https://aifura.com'">
                <div class="w-8 h-8 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-lg flex items-center justify-center text-white font-bold shadow-md">
                    Ai
                </div>
                <span class="font-bold text-xl tracking-tight">Aifura Tools</span>
            </div>
            
            <button id="langToggle" class="flex items-center gap-2 px-3 py-1.5 rounded-full border border-slate-300 hover:bg-slate-100 transition text-sm font-medium">
                <span class="text-lg">ğŸŒ</span>
                <span id="currentLang">English</span>
            </button>
        </div>
    </nav>

    <main class="flex-grow flex flex-col items-center justify-center py-12 px-4 w-full max-w-5xl mx-auto">
        
        <div class="text-center mb-10 max-w-2xl">
            <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-600 pb-2" data-i18n="title">
                AI æ™ºèƒ½ä¸€é”®æŠ å›¾
            </h1>
            <p class="text-lg text-slate-500" data-i18n="subtitle">
                ä¸Šä¼ å›¾ç‰‡ï¼Œ3ç§’å†…è‡ªåŠ¨å»é™¤èƒŒæ™¯ï¼Œå‘ä¸çº§ç²¾ç»†å¤„ç†ã€‚
            </p>
        </div>

        <div class="bg-white w-full rounded-3xl shadow-xl overflow-hidden border border-slate-100">
            
            <div class="p-8 md:p-12">
                <div id="uploadArea" class="relative group border-2 border-dashed border-slate-300 rounded-2xl bg-slate-50 p-10 text-center cursor-pointer hover:border-blue-500 hover:bg-blue-50/50 transition-all duration-300">
                    <input type="file" id="fileInput" accept="image/png, image/jpeg, image/jpg, image/webp" class="hidden">
                    
                    <div class="w-20 h-20 bg-white rounded-full shadow-sm flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition duration-300">
                        <svg class="w-10 h-10 text-slate-400 group-hover:text-blue-600 transition" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-slate-700 mb-2" data-i18n="dragText">ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œ</h3>
                    <p class="text-sm text-slate-400" data-i18n="supportText">æ”¯æŒ JPG, PNG, WEBP (æœ€å¤§ 10MB)</p>
                </div>

                <div id="loadingState" class="hidden mt-8 text-center">
                    <div class="w-full bg-slate-100 rounded-full h-2.5 mb-4 overflow-hidden">
                        <div class="bg-blue-600 h-2.5 rounded-full animate-progress" style="width: 60%"></div>
                    </div>
                    <p class="text-blue-600 font-medium animate-pulse" data-i18n="processing">æ­£åœ¨ AI å¤„ç†ä¸­ï¼Œè¯·ç¨å€™...</p>
                </div>

                <div id="errorState" class="hidden mt-6 p-4 bg-red-50 text-red-700 rounded-xl border border-red-100 flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    <span id="errorText">å‡ºé”™äº†</span>
                </div>
            </div>

            <div id="resultArea" class="hidden border-t border-slate-100 bg-slate-50 p-8 md:p-12">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span class="text-xs font-bold text-slate-400 uppercase tracking-wider" data-i18n="original">åŸå›¾</span>
                            <span class="text-xs text-slate-400" id="fileSize"></span>
                        </div>
                        <div class="h-64 md:h-80 flex items-center justify-center bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                            <img id="imgOriginal" class="max-w-full max-h-full object-contain">
                        </div>
                    </div>

                    <div class="space-y-3">
                        <span class="text-xs font-bold text-blue-500 uppercase tracking-wider flex items-center gap-1">
                            âœ¨ <span data-i18n="result">å»èƒŒç»“æœ</span>
                        </span>
                        <div class="h-64 md:h-80 flex items-center justify-center checkerboard rounded-xl border-2 border-blue-100 overflow-hidden shadow-sm relative group">
                            <img id="imgResult" class="max-w-full max-h-full object-contain z-10">
                            <div class="absolute inset-0 bg-black/5 opacity-0 group-hover:opacity-100 transition flex items-center justify-center z-0 pointer-events-none"></div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex flex-col md:flex-row gap-4 justify-center">
                    <button id="resetBtn" class="px-6 py-3 rounded-xl border border-slate-300 text-slate-600 font-semibold hover:bg-slate-100 transition" data-i18n="tryAnother">
                        è¯•å¦ä¸€å¼ 
                    </button>
                    <a id="downloadBtn" class="flex-1 md:flex-none md:w-64 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-center hover:shadow-lg hover:shadow-blue-500/30 transition transform active:scale-95 flex items-center justify-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                        <span data-i18n="download">ä¸‹è½½é€æ˜ PNG</span>
                    </a>
                </div>
            </div>

        </div>

    </main>

    <footer class="w-full bg-slate-900 text-slate-300 py-8 text-center">
        <div class="max-w-6xl mx-auto px-4">
            <p class="mb-2 font-medium">Made with â¤ï¸ by Aifura</p>
            <p class="text-sm opacity-80 hover:opacity-100 transition">
                <span data-i18n="footerText">æ›´å¤šå¥½ç”¨ AI ç”Ÿæˆå·¥å…·è¯·è®¿é—®ï¼š</span> 
                <a href="https://aifura.com" target="_blank" class="text-blue-400 hover:text-blue-300 font-bold underline decoration-blue-400/30 hover:decoration-blue-300">
                    aifura.com
                </a>
            </p>
            <p class="text-xs text-slate-600 mt-4">&copy; 2025 Aifura Tools. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // ================= é…ç½®åŒº =================
        // ã€å…³é”®ã€‘è¿™é‡Œå¡«å†™ä½ åˆšåˆšåœ¨ Cloudflare éƒ¨ç½²çš„ Worker åœ°å€
        const WORKER_URL = "https://my-ai-remover.qunchi1995.workers.dev";
        // =========================================

        // è¯­è¨€åŒ…
        const translations = {
            zh: {
                title: "AI æ™ºèƒ½ä¸€é”®æŠ å›¾",
                subtitle: "ä¸Šä¼ å›¾ç‰‡ï¼Œ3ç§’å†…è‡ªåŠ¨å»é™¤èƒŒæ™¯ï¼Œå‘ä¸çº§ç²¾ç»†å¤„ç†ã€‚",
                dragText: "ç‚¹å‡»æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œ",
                supportText: "æ”¯æŒ JPG, PNG, WEBP (æœ€å¤§ 10MB)",
                processing: "æ­£åœ¨ AI å¤„ç†ä¸­ï¼Œè¯·ç¨å€™...",
                original: "åŸå›¾",
                result: "å»èƒŒç»“æœ",
                tryAnother: "è¯•å¦ä¸€å¼ ",
                download: "ä¸‹è½½é€æ˜ PNG",
                footerText: "æ›´å¤šå¥½ç”¨ AI ç”Ÿæˆå·¥å…·è¯·è®¿é—®ï¼š",
                langBtn: "English",
                errorMax: "å›¾ç‰‡è¿‡å¤§ï¼Œè¯·ä¸Šä¼  10MB ä»¥å†…çš„å›¾ç‰‡"
            },
            en: {
                title: "AI Background Remover",
                subtitle: "Remove image backgrounds instantly with AI. High precision.",
                dragText: "Click or Drag Image Here",
                supportText: "Supports JPG, PNG, WEBP (Max 10MB)",
                processing: "AI is processing, please wait...",
                original: "Original",
                result: "Result",
                tryAnother: "Try Another",
                download: "Download PNG",
                footerText: "More useful AI tools visit:",
                langBtn: "ä¸­æ–‡",
                errorMax: "Image too large, please upload under 10MB"
            }
        };

        // çŠ¶æ€å˜é‡
        let currentLang = 'zh';
        let isProcessing = false;

        // DOM å…ƒç´ 
        const $ = (id) => document.getElementById(id);
        const els = {
            fileInput: $('fileInput'),
            uploadArea: $('uploadArea'),
            loadingState: $('loadingState'),
            resultArea: $('resultArea'),
            imgOriginal: $('imgOriginal'),
            imgResult: $('imgResult'),
            downloadBtn: $('downloadBtn'),
            errorState: $('errorState'),
            errorText: $('errorText'),
            resetBtn: $('resetBtn'),
            langToggle: $('langToggle'),
            currentLangText: $('currentLang')
        };

        // åˆå§‹åŒ–
        function init() {
            // ç»‘å®šä¸Šä¼ äº‹ä»¶
            els.uploadArea.addEventListener('click', () => els.fileInput.click());
            els.fileInput.addEventListener('change', (e) => handleFile(e.target.files[0]));
            
            // ç»‘å®šæ‹–æ‹½äº‹ä»¶
            els.uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                els.uploadArea.classList.add('border-blue-500', 'bg-blue-50');
            });
            els.uploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                els.uploadArea.classList.remove('border-blue-500', 'bg-blue-50');
            });
            els.uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                els.uploadArea.classList.remove('border-blue-500', 'bg-blue-50');
                if (e.dataTransfer.files[0]) handleFile(e.dataTransfer.files[0]);
            });

            // ç»‘å®šç²˜è´´äº‹ä»¶
            document.addEventListener('paste', (e) => {
                const items = e.clipboardData.items;
                for (let i = 0; i < items.length; i++) {
                    if (items[i].type.indexOf('image') !== -1) {
                        const file = items[i].getAsFile();
                        handleFile(file);
                        break;
                    }
                }
            });

            // æŒ‰é’®äº‹ä»¶
            els.resetBtn.addEventListener('click', resetUI);
            els.langToggle.addEventListener('click', toggleLanguage);
        }

        // æ–‡ä»¶å¤„ç†ä¸»é€»è¾‘
        async function handleFile(file) {
            if (!file || isProcessing) return;
            
            // ç®€å•çš„éªŒè¯
            if (file.size > 10 * 1024 * 1024) {
                showError(translations[currentLang].errorMax);
                return;
            }

            // é‡ç½®çŠ¶æ€
            resetUI(false);
            isProcessing = true;
            
            // æ˜¾ç¤ºæœ¬åœ°é¢„è§ˆ
            els.imgOriginal.src = URL.createObjectURL(file);
            $('fileSize').textContent = (file.size / 1024 / 1024).toFixed(2) + ' MB';
            
            // UI åˆ‡æ¢åˆ°åŠ è½½ä¸­
            els.uploadArea.classList.add('hidden');
            els.loadingState.classList.remove('hidden');

            try {
                // 1. å‡†å¤‡æ•°æ®
                const formData = new FormData();
                formData.append('image', file);

                // 2. å‘é€è¯·æ±‚ç»™ä½ çš„ Cloudflare Worker
                const response = await fetch(WORKER_URL, {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    throw new Error(`Server Error: ${response.statusText}`);
                }

                // 3. å¤„ç†ç»“æœ
                const blob = await response.blob();
                const resultUrl = URL.createObjectURL(blob);

                // 4. æ˜¾ç¤ºç»“æœ
                els.imgResult.src = resultUrl;
                els.downloadBtn.href = resultUrl;
                els.downloadBtn.download = `aifura_cut_${Date.now()}.png`;
                
                els.loadingState.classList.add('hidden');
                els.resultArea.classList.remove('hidden');

            } catch (error) {
                console.error(error);
                showError("API Error: " + error.message + " (Please check your Worker)");
                els.loadingState.classList.add('hidden');
                els.uploadArea.classList.remove('hidden');
            } finally {
                isProcessing = false;
            }
        }

        function resetUI(clearFile = true) {
            els.resultArea.classList.add('hidden');
            els.errorState.classList.add('hidden');
            els.loadingState.classList.add('hidden');
            els.uploadArea.classList.remove('hidden');
            if(clearFile) els.fileInput.value = '';
        }

        function showError(msg) {
            els.errorText.textContent = msg;
            els.errorState.classList.remove('hidden');
        }

        // è¯­è¨€åˆ‡æ¢é€»è¾‘
        function toggleLanguage() {
            currentLang = currentLang === 'zh' ? 'en' : 'zh';
            updateTexts();
        }

        function updateTexts() {
            const t = translations[currentLang];
            
            // æ›´æ–°å¸¦æœ‰ data-i18n çš„å…ƒç´ 
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (t[key]) el.textContent = t[key];
            });

            // æ›´æ–°ç‰¹å®šæŒ‰é’®æ–‡æœ¬
            els.currentLangText.textContent = t.langBtn;
            
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = t.title + " - Aifura Tools";
            document.documentElement.lang = currentLang === 'zh' ? 'zh-CN' : 'en';
        }

        // å¯åŠ¨
        init();
        
        // CSS åŠ¨ç”»è¡¥å……
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes progress {
                0% { width: 0%; }
                50% { width: 70%; }
                100% { width: 95%; }
            }
            .animate-progress {
                animation: progress 2s ease-in-out infinite;
            }
        `;
        document.head.appendChild(styleSheet);

    </script>
</body>
</html>
